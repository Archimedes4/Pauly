{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport callMsGraph from \"./microsoftAssets\";\nimport { mainListID, siteID } from \"../PaulyConfig\";\nimport store from \"../Redux/store\";\nimport { paulyListSlice } from \"../Redux/reducers/paulyListReducer\";\nexport default function getPaulyLists(_x, _x2, _x3) {\n  return _getPaulyLists.apply(this, arguments);\n}\nfunction _getPaulyLists() {\n  _getPaulyLists = _asyncToGenerator(function* (accessToken, instance, accounts) {\n    var paulyListResult = yield callMsGraph(accessToken, \"https://graph.microsoft.com/v1.0/sites/\" + siteID + \"/lists/\" + mainListID + \"/items?expand=fields\", instance, accounts);\n    if (paulyListResult.ok) {\n      var paulyListResultData = yield paulyListResult.json();\n      console.log(paulyListResultData);\n      store.dispatch(paulyListSlice.actions.setPaulyList({\n        commissionListId: paulyListResultData[\"value\"][0][\"fields\"][\"commissionListId\"],\n        paulyDataListId: paulyListResultData[\"value\"][0][\"fields\"][\"paulyDataListId\"],\n        scheduleListId: paulyListResultData[\"value\"][0][\"fields\"][\"scheduleListId\"],\n        sportsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsListId\"],\n        sportsApprovedSubmissionsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsApprovedSubmissionsListId\"],\n        sportsSubmissionsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsSubmissionsListId\"],\n        timetablesListId: paulyListResultData[\"value\"][0][\"fields\"][\"timetablesListId\"]\n      }));\n    } else {\n      var _paulyListResultData = yield paulyListResult.json();\n      console.log(_paulyListResultData);\n      console.log(\"Error\");\n    }\n  });\n  return _getPaulyLists.apply(this, arguments);\n}","map":{"version":3,"names":["callMsGraph","mainListID","siteID","store","paulyListSlice","getPaulyLists","_x","_x2","_x3","_getPaulyLists","apply","arguments","_asyncToGenerator","accessToken","instance","accounts","paulyListResult","ok","paulyListResultData","json","console","log","dispatch","actions","setPaulyList","commissionListId","paulyDataListId","scheduleListId","sportsListId","sportsApprovedSubmissionsListId","sportsSubmissionsListId","timetablesListId"],"sources":["/Users/andrewmainella/Desktop/Pauly/src/Functions/getPaulyLists.ts"],"sourcesContent":["import { AccountInfo, IPublicClientApplication } from \"@azure/msal-browser\";\nimport callMsGraph from \"./microsoftAssets\";\nimport { mainListID, siteID } from \"../PaulyConfig\";\nimport store from \"../Redux/store\";\nimport { paulyListSlice } from \"../Redux/reducers/paulyListReducer\";\n\nexport default async function getPaulyLists(accessToken: string, instance: IPublicClientApplication, accounts: AccountInfo[]) {\n    const paulyListResult = await callMsGraph(accessToken, \"https://graph.microsoft.com/v1.0/sites/\" + siteID + \"/lists/\" + mainListID + \"/items?expand=fields\", instance, accounts)\n    if (paulyListResult.ok){\n        const paulyListResultData = await paulyListResult.json()\n        console.log(paulyListResultData)\n        //TO DO make the value secure meaning that others cannot add to the pauly list\n        store.dispatch(paulyListSlice.actions.setPaulyList({commissionListId: paulyListResultData[\"value\"][0][\"fields\"][\"commissionListId\"], paulyDataListId: paulyListResultData[\"value\"][0][\"fields\"][\"paulyDataListId\"], scheduleListId: paulyListResultData[\"value\"][0][\"fields\"][\"scheduleListId\"], sportsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsListId\"], sportsApprovedSubmissionsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsApprovedSubmissionsListId\"], sportsSubmissionsListId: paulyListResultData[\"value\"][0][\"fields\"][\"sportsSubmissionsListId\"], timetablesListId: paulyListResultData[\"value\"][0][\"fields\"][\"timetablesListId\"]}))\n    } else {\n        const paulyListResultData = await paulyListResult.json()\n        console.log(paulyListResultData)\n        console.log(\"Error\")\n        //TO DO THIS IS A BIG PROBLEM SHUT DOWN APP BC most of it don't work lost connection to server\n    }\n}"],"mappings":";AACA,OAAOA,WAAW;AAClB,SAASC,UAAU,EAAEC,MAAM;AAC3B,OAAOC,KAAK;AACZ,SAASC,cAAc;AAEvB,wBAA8BC,aAAaA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAa1C,SAAAF,eAAA;EAAAA,cAAA,GAAAG,iBAAA,CAbc,WAA6BC,WAAmB,EAAEC,QAAkC,EAAEC,QAAuB,EAAE;IAC1H,IAAMC,eAAe,SAAShB,WAAW,CAACa,WAAW,EAAE,yCAAyC,GAAGX,MAAM,GAAG,SAAS,GAAGD,UAAU,GAAG,sBAAsB,EAAEa,QAAQ,EAAEC,QAAQ,CAAC;IAChL,IAAIC,eAAe,CAACC,EAAE,EAAC;MACnB,IAAMC,mBAAmB,SAASF,eAAe,CAACG,IAAI,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACH,mBAAmB,CAAC;MAEhCf,KAAK,CAACmB,QAAQ,CAAClB,cAAc,CAACmB,OAAO,CAACC,YAAY,CAAC;QAACC,gBAAgB,EAAEP,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC;QAAEQ,eAAe,EAAER,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC;QAAES,cAAc,EAAET,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC;QAAEU,YAAY,EAAEV,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;QAAEW,+BAA+B,EAAEX,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC;QAAEY,uBAAuB,EAAEZ,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC;QAAEa,gBAAgB,EAAEb,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,kBAAkB;MAAC,CAAC,CAAC,CAAC;IAC9oB,CAAC,MAAM;MACH,IAAMA,oBAAmB,SAASF,eAAe,CAACG,IAAI,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACH,oBAAmB,CAAC;MAChCE,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IAExB;EACJ,CAAC;EAAA,OAAAZ,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}