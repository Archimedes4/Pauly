{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-native';\nimport callMsGraph from \"../../../../Functions/microsoftAssets\";\nimport { accessTokenContent } from \"../../../../../App\";\nimport GovernmentHandleFileSubmissions from \"./GovernmentHandleFileSubmissions\";\nimport { useMsal } from '@azure/msal-react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar windowDimensions = Dimensions.get('window');\nvar screenDimensions = Dimensions.get('screen');\nvar currentDataResult = function (currentDataResult) {\n  currentDataResult[currentDataResult[\"loading\"] = 0] = \"loading\";\n  currentDataResult[currentDataResult[\"success\"] = 1] = \"success\";\n  currentDataResult[currentDataResult[\"error\"] = 2] = \"error\";\n  return currentDataResult;\n}(currentDataResult || {});\nexport default function GovernmentSports() {\n  var microsoftAccessToken = useContext(accessTokenContent);\n  var _useMsal = useMsal(),\n    instance = _useMsal.instance,\n    accounts = _useMsal.accounts;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentSports = _useState2[0],\n    setCurrentSports = _useState2[1];\n  var _useState3 = useState({\n      window: windowDimensions,\n      screen: screenDimensions\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dimensions = _useState4[0],\n    setDimensions = _useState4[1];\n  var _useState5 = useState(currentDataResult.loading),\n    _useState6 = _slicedToArray(_useState5, 2),\n    dataResult = _useState6[0],\n    setDataResult = _useState6[1];\n  useEffect(function () {\n    var subscription = Dimensions.addEventListener('change', function (_ref) {\n      var window = _ref.window,\n        screen = _ref.screen;\n      setDimensions({\n        window: window,\n        screen: screen\n      });\n    });\n    return function () {\n      return subscription == null ? void 0 : subscription.remove();\n    };\n  });\n  function getSports() {\n    return _getSports.apply(this, arguments);\n  }\n  function _getSports() {\n    _getSports = _asyncToGenerator(function* () {\n      var result = yield callMsGraph(microsoftAccessToken.accessToken, \"https://graph.microsoft.com/v1.0/sites/8td1tk.sharepoint.com,b2ef509e-4511-48c3-b607-a8c2cddc0e35,091feb8c-a978-4e3f-a60f-ecdc319b2304/lists/af29f01a-df11-4e9d-85c8-7461ca4dc6e9/items?expand=fields\", instance, accounts);\n      if (result.ok) {\n        var data = yield result.json();\n        console.log(data);\n        console.log(data);\n        if (data[\"value\"] !== null && data[\"value\"] !== undefined) {\n          var resultData = [];\n          for (var index = 0; index < data[\"value\"].length; index++) {\n            resultData.push({\n              name: data[\"value\"][index][\"fields\"][\"SportName\"],\n              id: data[\"value\"][index][\"fields\"][\"SportID\"]\n            });\n          }\n          setCurrentSports(resultData);\n          console.log(resultData);\n          setDataResult(currentDataResult.success);\n        } else {\n          setDataResult(currentDataResult.error);\n        }\n      } else {\n        setDataResult(currentDataResult.error);\n      }\n    });\n    return _getSports.apply(this, arguments);\n  }\n  useEffect(function () {\n    getSports();\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(Link, {\n      to: \"/profile/government/\",\n      children: _jsx(Text, {\n        children: \"Back\"\n      })\n    }), _jsx(Text, {\n      children: \"Government Sports\"\n    }), _jsx(View, {\n      children: dataResult === currentDataResult.loading ? _jsx(View, {\n        children: _jsx(Text, {\n          children: \"Loading\"\n        })\n      }) : _jsx(View, {\n        children: dataResult === currentDataResult.success ? _jsx(View, {\n          children: currentSports.map(function (item, id) {\n            return _jsx(Link, {\n              to: \"/profile/government/sports/team/\" + item.name + \"/\" + item.id,\n              children: _jsx(View, {\n                children: _jsx(Text, {\n                  children: item.name\n                })\n              }, id)\n            });\n          })\n        }) : _jsx(View, {\n          children: _jsx(Text, {\n            children: \"Error\"\n          })\n        })\n      })\n    }), _jsx(Link, {\n      to: \"/profile/government/sports/create\",\n      children: _jsx(Text, {\n        children: \"Create Sport\"\n      })\n    }), _jsx(Link, {\n      to: \"/profile/government/sports/post/0/0/0/0/0\",\n      children: _jsx(Text, {\n        children: \"Create Post\"\n      })\n    }), _jsx(GovernmentHandleFileSubmissions, {})]\n  });\n}","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","callMsGraph","accessTokenContent","GovernmentHandleFileSubmissions","useMsal","jsx","_jsx","jsxs","_jsxs","windowDimensions","Dimensions","get","screenDimensions","currentDataResult","GovernmentSports","microsoftAccessToken","_useMsal","instance","accounts","_useState","_useState2","_slicedToArray","currentSports","setCurrentSports","_useState3","window","screen","_useState4","dimensions","setDimensions","_useState5","loading","_useState6","dataResult","setDataResult","subscription","addEventListener","_ref","remove","getSports","_getSports","apply","arguments","_asyncToGenerator","result","accessToken","ok","data","json","console","log","undefined","resultData","index","length","push","name","id","success","error","View","children","to","Text","map","item"],"sources":["/Users/andrewmainella/Desktop/Pauly/src/AuthenticatedView/Profile/Government/GovernmentSports/GovernmentSports.tsx"],"sourcesContent":["import { View, Text, Dimensions, Pressable } from 'react-native'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { Link } from 'react-router-native'\nimport NavBarComponent from '../../../../UI/NavComponent';\nimport callMsGraph from '../../../../Functions/microsoftAssets';\nimport { accessTokenContent } from '../../../../../App';\nimport GovernmentHandleFileSubmissions from './GovernmentHandleFileSubmissions';\nimport { useMsal } from '@azure/msal-react';\n\nconst windowDimensions = Dimensions.get('window');\nconst screenDimensions = Dimensions.get('screen');\n\ntype sportType = {\n  name: string\n  id: string\n}\n\nenum currentDataResult{\n  loading,\n  success,\n  error\n}\n\nexport default function GovernmentSports() {\n  const microsoftAccessToken = useContext(accessTokenContent);\n  const { instance, accounts } = useMsal();\n  const [currentSports, setCurrentSports] = useState<sportType[]>([])\n  const [dimensions, setDimensions] = useState({\n    window: windowDimensions,\n    screen: screenDimensions,\n  });\n  const [dataResult, setDataResult] = useState<currentDataResult>(currentDataResult.loading)\n\n  useEffect(() => {\n      const subscription = Dimensions.addEventListener(\n        'change',\n        ({window, screen}) => {\n          setDimensions({window, screen});\n        },\n      );\n      return () => subscription?.remove();\n  });\n\n  async function getSports(){\n    const result = await callMsGraph(microsoftAccessToken.accessToken, \"https://graph.microsoft.com/v1.0/sites/8td1tk.sharepoint.com,b2ef509e-4511-48c3-b607-a8c2cddc0e35,091feb8c-a978-4e3f-a60f-ecdc319b2304/lists/af29f01a-df11-4e9d-85c8-7461ca4dc6e9/items?expand=fields\", instance, accounts)//TO DO list id\n    if (result.ok) {\n      const data = await result.json()\n      console.log(data)\n      console.log(data)\n      if (data[\"value\"] !== null && data[\"value\"] !== undefined){\n        var resultData: sportType[] = []\n        for (let index = 0; index < data[\"value\"].length; index++) {\n          resultData.push({\n            name: data[\"value\"][index][\"fields\"][\"SportName\"],\n            id: data[\"value\"][index][\"fields\"][\"SportID\"]\n          })\n        }\n        setCurrentSports(resultData)\n        console.log(resultData)\n        setDataResult(currentDataResult.success)\n      } else {\n        setDataResult(currentDataResult.error)\n      }\n    } else {\n      setDataResult(currentDataResult.error)\n    }\n  }\n\n  useEffect(() => {\n    getSports()\n  }, [])\n\n  return (\n    <View>\n      <Link to=\"/profile/government/\">\n        <Text>Back</Text>\n      </Link>\n      <Text>Government Sports</Text>\n      <View>\n        { (dataResult === currentDataResult.loading) ?\n          <View><Text>Loading</Text></View>:\n          <View>\n            {(dataResult === currentDataResult.success) ?\n              <View>\n                {currentSports.map((item, id) => (\n                  <Link to={\"/profile/government/sports/team/\" + item.name + \"/\" + item.id}>\n                    <View key={id}>\n                      <Text>{item.name}</Text>\n                    </View>\n                  </Link>\n                ))}\n              </View>:<View><Text>Error</Text></View>\n            }\n          </View>\n        }\n      </View>\n      <Link to=\"/profile/government/sports/create\">\n        <Text>Create Sport</Text>\n      </Link>\n      <Link to=\"/profile/government/sports/post/0/0/0/0/0\">\n        <Text>Create Post</Text>\n      </Link>\n      <GovernmentHandleFileSubmissions/>\n    </View>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}