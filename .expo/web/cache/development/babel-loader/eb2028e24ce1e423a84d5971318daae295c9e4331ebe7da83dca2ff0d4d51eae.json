{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ScrollingTextAnimation(_ref) {\n  var children = _ref.children,\n    width = _ref.width,\n    height = _ref.height;\n  var pan = useRef(new Animated.Value(0)).current;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    childWidth = _useState2[0],\n    setChildWidth = _useState2[1];\n  function mainLoop(childWidth) {\n    Animated.loop(Animated.sequence([Animated.timing(pan, {\n      toValue: -childWidth,\n      duration: 5000,\n      delay: 0,\n      easing: Easing.linear,\n      useNativeDriver: false\n    }), Animated.timing(pan, {\n      toValue: 0,\n      duration: 0,\n      delay: 0,\n      useNativeDriver: false\n    })])).start();\n  }\n  useEffect(function () {\n    if (childWidth !== 0) {\n      mainLoop(childWidth);\n    }\n  }, [childWidth]);\n  return _jsx(View, {\n    style: {\n      width: width,\n      height: height,\n      overflow: \"hidden\"\n    },\n    children: childWidth !== 0 ? _jsxs(Animated.View, {\n      style: {\n        transform: [{\n          translateX: pan\n        }]\n      },\n      children: [_jsx(View, {\n        style: {\n          width: childWidth + childWidth * 0.01,\n          height: height,\n          overflow: \"hidden\",\n          position: \"absolute\",\n          left: childWidth + childWidth * 0.01\n        },\n        children: children\n      }), _jsx(View, {\n        style: {\n          width: childWidth + childWidth * 0.01,\n          height: height,\n          position: \"absolute\",\n          left: 0\n        },\n        children: children\n      })]\n    }) : _jsx(View, {\n      onLayout: function onLayout(e) {\n        setChildWidth(e.nativeEvent.layout.width);\n        console.log(\"This is text with\", e.nativeEvent.layout.width);\n      },\n      style: {\n        height: height,\n        position: \"absolute\",\n        left: 0\n      },\n      children: children\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","ScrollingTextAnimation","_ref","children","width","height","pan","Animated","Value","current","_useState","_useState2","_slicedToArray","childWidth","setChildWidth","mainLoop","loop","sequence","timing","toValue","duration","delay","easing","Easing","linear","useNativeDriver","start","View","style","overflow","transform","translateX","position","left","onLayout","e","nativeEvent","layout","console","log"],"sources":["/Users/andrewmainella/Desktop/Pauly/src/UI/ScrollingTextAnimation.tsx"],"sourcesContent":["import { View, Text, Animated, Easing } from 'react-native'\nimport React, { ReactNode, useEffect, useRef, useState } from 'react'\n\nexport default function ScrollingTextAnimation({children, width, height}:{children: ReactNode, width: number, height: number}) {\n    const pan = useRef(new Animated.Value(0)).current\n    const [childWidth, setChildWidth] = useState<number>(0)\n    function mainLoop(childWidth: number) {\n        Animated.loop(\n            Animated.sequence([\n                Animated.timing(pan, {\n                    toValue: -childWidth,\n                    duration: 5000,\n                    delay: 0,\n                    easing: Easing.linear,\n                    useNativeDriver: false\n                }),\n                Animated.timing(pan, {\n                    toValue: 0,\n                    duration: 0,\n                    delay: 0,\n                    useNativeDriver: false\n                }),\n            ])\n        ).start()\n    }\n    useEffect(() => {\n        if (childWidth !== 0){\n            mainLoop(childWidth)\n        }\n    }, [childWidth])\n    return (\n        <View style={{width: width, height: height, overflow: \"hidden\"}}>\n            { (childWidth !== 0) ? \n                <Animated.View style={{transform: [{translateX: pan}]}}>\n                    <View style={{width: childWidth + childWidth * 0.01, height: height, overflow: \"hidden\", position: \"absolute\", left: childWidth + childWidth * 0.01}}>\n                        {children}\n                    </View>\n                    <View style={{width: childWidth + childWidth * 0.01, height: height, position: \"absolute\", left: 0}}>\n                        {children}\n                    </View>\n                </Animated.View>:\n                <View onLayout={(e) => {setChildWidth(e.nativeEvent.layout.width); console.log(\"This is text with\", e.nativeEvent.layout.width)}} style={{height: height, position: \"absolute\", left: 0}}>\n                    {children}\n                </View>\n            }\n        </View>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}