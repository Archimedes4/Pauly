{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-native';\nimport callMsGraph from \"../../../../Functions/microsoftAssets\";\nimport { accessTokenContent } from \"../../../../../App\";\nimport { siteID } from \"../../../../PaulyConfig\";\nimport { useMsal } from '@azure/msal-react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function GovernmentHandleFileSubmissions() {\n  var pageData = useContext(accessTokenContent);\n  var _useMsal = useMsal(),\n    instance = _useMsal.instance,\n    accounts = _useMsal.accounts;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentMediaSubmissions = _useState2[0],\n    setCurrentMediaSubmissions = _useState2[1];\n  function getSubmissions() {\n    return _getSubmissions.apply(this, arguments);\n  }\n  function _getSubmissions() {\n    _getSubmissions = _asyncToGenerator(function* () {\n      var result = yield callMsGraph(pageData.accessToken, \"https://graph.microsoft.com/v1.0/sites/\" + siteID + \"/lists/bf26e642-f655-47db-a037-188189b0d378/items?expand=fields\", instance, accounts);\n      if (result.ok) {\n        var data = yield result.json();\n        console.log(data);\n        var newMediaSubmissions = [];\n        if (data[\"value\"].length !== undefined && data[\"value\"].length !== null) {\n          for (var index = 0; index < data[\"value\"].length; index++) {\n            newMediaSubmissions.push({\n              Title: data[\"value\"][index][\"fields\"][\"Title\"],\n              User: data[\"value\"][index][\"fields\"][\"User\"],\n              SubmissionID: data[\"value\"][index][\"fields\"][\"SubmissionID\"],\n              Accepted: data[\"value\"][index][\"fields\"][\"Accepted\"],\n              FileId: data[\"value\"][index][\"fields\"][\"FileId\"],\n              ItemID: data[\"value\"][index][\"id\"]\n            });\n          }\n          console.log(newMediaSubmissions);\n          setCurrentMediaSubmissions(newMediaSubmissions);\n        }\n      } else {\n        console.log(\"Uh Oh something has gone wrong\");\n      }\n    });\n    return _getSubmissions.apply(this, arguments);\n  }\n  useEffect(function () {\n    getSubmissions();\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"HandleFileSubmissions\"\n    }), currentMediaSubmissions.map(function (item) {\n      return _jsx(Link, {\n        to: \"/profile/government/sports/post/review/\" + item.SubmissionID,\n        children: _jsxs(View, {\n          style: {\n            borderColor: \"black\",\n            borderWidth: 2\n          },\n          children: [_jsx(Text, {\n            children: item.Title\n          }), _jsxs(Text, {\n            children: [\"Accepted: \", item.Accepted ? \"Yes\" : \"No\"]\n          }), _jsx(Text, {\n            children: item.SubmissionID\n          }), _jsx(Text, {\n            children: item.User\n          }), _jsx(Text, {\n            children: item.FileId\n          })]\n        })\n      });\n    })]\n  });\n}","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","callMsGraph","accessTokenContent","siteID","useMsal","jsx","_jsx","jsxs","_jsxs","GovernmentHandleFileSubmissions","pageData","_useMsal","instance","accounts","_useState","_useState2","_slicedToArray","currentMediaSubmissions","setCurrentMediaSubmissions","getSubmissions","_getSubmissions","apply","arguments","_asyncToGenerator","result","accessToken","ok","data","json","console","log","newMediaSubmissions","length","undefined","index","push","Title","User","SubmissionID","Accepted","FileId","ItemID","View","children","Text","map","item","to","style","borderColor","borderWidth"],"sources":["/Users/andrewmainella/Desktop/Pauly/src/AuthenticatedView/Profile/Government/GovernmentSports/GovernmentHandleFileSubmissions.tsx"],"sourcesContent":["import { View, Text } from 'react-native'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { Link } from 'react-router-native'\nimport callMsGraph from '../../../../Functions/microsoftAssets'\nimport { accessTokenContent } from '../../../../../App'\nimport { siteID } from '../../../../PaulyConfig'\nimport { useMsal } from '@azure/msal-react'\n\ndeclare global {\n    type mediaSubmissionType = {\n        Title: string\n        User: string\n        SubmissionID: string\n        Accepted: boolean\n        FileId: string\n        ItemID: string\n    }\n}\n\nexport default function GovernmentHandleFileSubmissions() {\n    const pageData = useContext(accessTokenContent);\n    const { instance, accounts } = useMsal();\n    const [currentMediaSubmissions, setCurrentMediaSubmissions] = useState<mediaSubmissionType[]>([])\n    async function getSubmissions() {\n        const result = await callMsGraph(pageData.accessToken, \"https://graph.microsoft.com/v1.0/sites/\"+siteID+\"/lists/bf26e642-f655-47db-a037-188189b0d378/items?expand=fields\", instance, accounts)//TO DO fix id\n        if (result.ok){\n            const data = await result.json()\n            console.log(data)\n            var newMediaSubmissions: mediaSubmissionType[] = []\n            if (data[\"value\"].length !== undefined && data[\"value\"].length !== null){\n                for(let index = 0; index < data[\"value\"].length; index++){\n                    newMediaSubmissions.push({\n                        Title: data[\"value\"][index][\"fields\"][\"Title\"],\n                        User: data[\"value\"][index][\"fields\"][\"User\"],\n                        SubmissionID: data[\"value\"][index][\"fields\"][\"SubmissionID\"],\n                        Accepted: data[\"value\"][index][\"fields\"][\"Accepted\"],\n                        FileId: data[\"value\"][index][\"fields\"][\"FileId\"],\n                        ItemID:  data[\"value\"][index][\"id\"]\n                    })\n                }\n                console.log(newMediaSubmissions)\n                setCurrentMediaSubmissions(newMediaSubmissions)\n            }\n        } else {\n            console.log(\"Uh Oh something has gone wrong\")\n        }\n    }\n    useEffect(() => {getSubmissions()}, [])\n  return (\n    <View>\n        <Text>HandleFileSubmissions</Text>\n        {currentMediaSubmissions.map((item) => (\n            <Link to={\"/profile/government/sports/post/review/\" + item.SubmissionID}>\n                <View style={{borderColor: \"black\", borderWidth: 2}}>\n                    <Text>{item.Title}</Text>\n                    <Text>Accepted: {(item.Accepted) ? \"Yes\":\"No\"}</Text>\n                    <Text>{item.SubmissionID}</Text>\n                    <Text>{item.User}</Text>\n                    <Text>{item.FileId}</Text>\n                </View>\n            </Link> \n            ))}\n    </View>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}