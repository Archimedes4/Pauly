__d((function(g,_r,i,a,m,_e,d){
/*! @azure/msal-browser v3.11.1 2024-03-27 */
'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NestedAppAuthController=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),u=_r(d[5]),c=_r(d[6]),s=_r(d[7]),p=_r(d[8]),l=_r(d[9]),h=_r(d[10]),A=_r(d[11]);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_e.NestedAppAuthController=(function(){function e(t){(0,n.default)(this,e),this.operatingContext=t;var r=this.operatingContext.getBridgeProxy();if(void 0===r)throw new Error("unexpected: bridgeProxy is undefined");this.bridgeProxy=r,this.config=t.getConfig(),this.logger=this.operatingContext.getLogger(),this.performanceClient=this.config.telemetry.client,this.browserCrypto=t.isBrowserEnvironment()?new s.CryptoOps(this.logger,this.performanceClient):u.DEFAULT_CRYPTO_IMPLEMENTATION,this.eventHandler=new h.EventHandler(this.logger,this.browserCrypto),this.nestedAppAuthAdapter=new p.NestedAppAuthAdapter(this.config.auth.clientId,this.config.auth.clientCapabilities,this.browserCrypto,this.logger)}var r,v,y,E,k,T,C;return(0,o.default)(e,[{key:"getBrowserStorage",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"getEventHandler",value:function(){return this.eventHandler}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"ensureValidRequest",value:function(e){return null!=e&&e.correlationId?e:f(f({},e),{},{correlationId:this.browserCrypto.createNewGuid()})}},{key:"acquireTokenInteractive",value:(C=(0,t.default)((function*(e){var t=this.ensureValidRequest(e);this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_START,c.InteractionType.Popup,t);var r=this.performanceClient.startMeasurement(u.PerformanceEvents.AcquireTokenPopup,t.correlationId);null==r||r.add({nestedAppAuthRequest:!0});try{var n=this.nestedAppAuthAdapter.toNaaTokenRequest(t),o=u.TimeUtils.nowSeconds(),s=yield this.bridgeProxy.getTokenInteractive(n),p=this.nestedAppAuthAdapter.fromNaaTokenResponse(n,s,o);return this.operatingContext.setActiveAccount(p.account),this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_SUCCESS,c.InteractionType.Popup,p),r.add({accessTokenSize:p.accessToken.length,idTokenSize:p.idToken.length}),r.end({success:!0,requestId:p.requestId}),p}catch(e){var l=this.nestedAppAuthAdapter.fromBridgeError(e);throw this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_FAILURE,c.InteractionType.Popup,null,e),r.end({success:!1},e),l}})),function(e){return C.apply(this,arguments)})},{key:"acquireTokenSilentInternal",value:(T=(0,t.default)((function*(e){var t=this.ensureValidRequest(e);this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_START,c.InteractionType.Silent,t);var r=this.performanceClient.startMeasurement(u.PerformanceEvents.SsoSilent,t.correlationId);null==r||r.increment({visibilityChangeCount:0}),null==r||r.add({nestedAppAuthRequest:!0});try{var n=this.nestedAppAuthAdapter.toNaaTokenRequest(t),o=u.TimeUtils.nowSeconds(),s=yield this.bridgeProxy.getTokenSilent(n),p=this.nestedAppAuthAdapter.fromNaaTokenResponse(n,s,o);return this.operatingContext.setActiveAccount(p.account),this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_SUCCESS,c.InteractionType.Silent,p),null==r||r.add({accessTokenSize:p.accessToken.length,idTokenSize:p.idToken.length}),null==r||r.end({success:!0,requestId:p.requestId}),p}catch(e){var l=this.nestedAppAuthAdapter.fromBridgeError(e);throw this.eventHandler.emitEvent(A.EventType.ACQUIRE_TOKEN_FAILURE,c.InteractionType.Silent,null,e),null==r||r.end({success:!1},e),l}})),function(e){return T.apply(this,arguments)})},{key:"acquireTokenPopup",value:(k=(0,t.default)((function*(e){return this.acquireTokenInteractive(e)})),function(e){return k.apply(this,arguments)})},{key:"acquireTokenRedirect",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"acquireTokenSilent",value:(E=(0,t.default)((function*(e){return this.acquireTokenSilentInternal(e)})),function(e){return E.apply(this,arguments)})},{key:"acquireTokenByCode",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"acquireTokenNative",value:function(e,t,r){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"acquireTokenByRefreshToken",value:function(e,t){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"addEventCallback",value:function(e){return this.eventHandler.addEventCallback(e)}},{key:"removeEventCallback",value:function(e){this.eventHandler.removeEventCallback(e)}},{key:"addPerformanceCallback",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"removePerformanceCallback",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"enableAccountStorageEvents",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"disableAccountStorageEvents",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"getAccount",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"getAccountByHomeId",value:function(e){var t=this.operatingContext.getActiveAccount();return void 0!==t&&t.homeAccountId===e?this.nestedAppAuthAdapter.fromNaaAccountInfo(t):null}},{key:"getAccountByLocalId",value:function(e){var t=this.operatingContext.getActiveAccount();return void 0!==t&&t.localAccountId===e?this.nestedAppAuthAdapter.fromNaaAccountInfo(t):null}},{key:"getAccountByUsername",value:function(e){var t=this.operatingContext.getActiveAccount();return void 0!==t&&t.username===e?this.nestedAppAuthAdapter.fromNaaAccountInfo(t):null}},{key:"getAllAccounts",value:function(){var e=this.operatingContext.getActiveAccount();return void 0!==e?[this.nestedAppAuthAdapter.fromNaaAccountInfo(e)]:[]}},{key:"handleRedirectPromise",value:function(e){return Promise.resolve(null)}},{key:"loginPopup",value:function(e){if(void 0!==e)return this.acquireTokenInteractive(e);throw l.NestedAppAuthError.createUnsupportedError()}},{key:"loginRedirect",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"logout",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"logoutRedirect",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"logoutPopup",value:function(e){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"ssoSilent",value:function(e){return this.acquireTokenSilentInternal(e)}},{key:"getTokenCache",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"getLogger",value:function(){return this.logger}},{key:"setLogger",value:function(e){this.logger=e}},{key:"setActiveAccount",value:function(e){this.logger.warning("nestedAppAuth does not support setActiveAccount")}},{key:"getActiveAccount",value:function(){var e=this.operatingContext.getActiveAccount();return void 0!==e?this.nestedAppAuthAdapter.fromNaaAccountInfo(e):null}},{key:"initializeWrapperLibrary",value:function(e,t){}},{key:"setNavigationClient",value:function(e){this.logger.warning("setNavigationClient is not supported in nested app auth")}},{key:"getConfiguration",value:function(){return this.config}},{key:"isBrowserEnv",value:function(){return this.operatingContext.isBrowserEnvironment()}},{key:"getBrowserCrypto",value:function(){return this.browserCrypto}},{key:"getPerformanceClient",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"getRedirectResponse",value:function(){throw l.NestedAppAuthError.createUnsupportedError()}},{key:"clearCache",value:(y=(0,t.default)((function*(e){throw l.NestedAppAuthError.createUnsupportedError()})),function(e){return y.apply(this,arguments)})},{key:"hydrateCache",value:(v=(0,t.default)((function*(e,t){throw l.NestedAppAuthError.createUnsupportedError()})),function(e,t){return v.apply(this,arguments)})}],[{key:"createController",value:(r=(0,t.default)((function*(t){var r=new e(t);return Promise.resolve(r)})),function(e){return r.apply(this,arguments)})}]),e})()}),1588,[34,6,45,14,10,673,737,755,1589,1591,764,763]);
__d((function(g,r,i,a,m,e,d){
/*! @azure/msal-browser v3.11.1 2024-03-27 */
'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NestedAppAuthAdapter=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=r(d[3]),c=r(d[4]),s=r(d[5]);e.NestedAppAuthAdapter=(function(){function t(o,u,c,s){(0,n.default)(this,t),this.clientId=o,this.clientCapabilities=u,this.crypto=c,this.logger=s}return(0,o.default)(t,[{key:"toNaaTokenRequest",value:function(t){var n,o;o=void 0===t.extraQueryParameters?new Map:new Map(Object.entries(t.extraQueryParameters));var c=(new u.RequestParameterBuilder).addClientCapabilitiesToClaims(t.claims,this.clientCapabilities),s=t.scopes||u.OIDC_DEFAULT_SCOPES;return{platformBrokerId:null==(n=t.account)?void 0:n.homeAccountId,clientId:this.clientId,authority:t.authority,scope:s.join(" "),correlationId:void 0!==t.correlationId?t.correlationId:this.crypto.createNewGuid(),claims:u.StringUtils.isEmptyObj(c)?void 0:c,state:t.state,authenticationScheme:t.authenticationScheme||u.AuthenticationScheme.BEARER,extraParameters:o}}},{key:"fromNaaTokenResponse",value:function(t,n,o){if(!n.token.id_token||!n.token.access_token)throw(0,u.createClientAuthError)(u.ClientAuthErrorCodes.nullOrEmptyToken);var c=new Date(1e3*(o+(n.token.expires_in||0))),s=u.AuthToken.extractTokenClaims(n.token.id_token,this.crypto.base64Decode),l=this.fromNaaAccountInfo(n.account,s),h=n.token.scope||t.scope;return{authority:n.token.authority||l.environment,uniqueId:l.localAccountId,tenantId:l.tenantId,scopes:h.split(" "),account:l,idToken:n.token.id_token,idTokenClaims:s,accessToken:n.token.access_token,fromCache:!0,expiresOn:c,tokenType:t.authenticationScheme||u.AuthenticationScheme.BEARER,correlationId:t.correlationId,extExpiresOn:c,state:t.state}}},{key:"fromNaaAccountInfo",value:function(t,n){var o=n||t.idTokenClaims,u=t.localAccountId||(null==o?void 0:o.oid)||(null==o?void 0:o.sub)||"",c=t.tenantId||(null==o?void 0:o.tid)||"",s=t.homeAccountId||`${u}.${c}`,l=t.username||(null==o?void 0:o.preferred_username)||"",h=t.name||(null==o?void 0:o.name);return{homeAccountId:s,environment:t.environment,tenantId:c,username:l,localAccountId:u,name:h,idToken:t.idToken,idTokenClaims:o}}},{key:"fromBridgeError",value:function(t){if(!(0,c.isBridgeError)(t))return new u.AuthError("unknown_error","An unknown error occurred");switch(t.status){case s.BridgeStatusCode.UserCancel:return new u.ClientAuthError(u.ClientAuthErrorCodes.userCanceled);case s.BridgeStatusCode.NoNetwork:return new u.ClientAuthError(u.ClientAuthErrorCodes.noNetworkConnectivity);case s.BridgeStatusCode.AccountUnavailable:return new u.ClientAuthError(u.ClientAuthErrorCodes.noAccountFound);case s.BridgeStatusCode.Disabled:return new u.ClientAuthError(u.ClientAuthErrorCodes.nestedAppAuthBridgeDisabled);case s.BridgeStatusCode.NestedAppAuthUnavailable:return new u.ClientAuthError(t.code||u.ClientAuthErrorCodes.nestedAppAuthBridgeDisabled,t.description);case s.BridgeStatusCode.TransientError:case s.BridgeStatusCode.PersistentError:return new u.ServerError(t.code,t.description);case s.BridgeStatusCode.UserInteractionRequired:return new u.InteractionRequiredAuthError(t.code,t.description);default:return new u.AuthError(t.code,t.description)}}}]),t})()}),1589,[34,14,10,673,1590,751]);
__d((function(g,r,i,a,m,e,d){
/*! @azure/msal-browser v3.11.1 2024-03-27 */
'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.isBridgeError=function(t){return void 0!==t.status}}),1590,[]);
__d((function(g,r,i,a,m,_e,d){
/*! @azure/msal-browser v3.11.1 2024-03-27 */
'use strict';var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NestedAppAuthErrorMessage=_e.NestedAppAuthError=void 0;var t=e(r(d[1])),o=e(r(d[2])),u=e(r(d[3])),n=e(r(d[4])),c=e(r(d[5])),p=e(r(d[6])),s=r(d[7]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}var f=_e.NestedAppAuthErrorMessage={unsupportedMethod:{code:"unsupported_method",desc:"The PKCE code challenge and verifier could not be generated."}};_e.NestedAppAuthError=(function(e){function s(e,o){var p,f,h,A;return(0,t.default)(this,s),f=this,h=s,A=[e,o],h=(0,n.default)(h),p=(0,u.default)(f,l()?Reflect.construct(h,A||[],(0,n.default)(f).constructor):h.apply(f,A)),Object.setPrototypeOf((0,c.default)(p),s.prototype),p.name="NestedAppAuthError",p}return(0,p.default)(s,e),(0,o.default)(s,null,[{key:"createUnsupportedError",value:function(){return new s(f.unsupportedMethod.code,f.unsupportedMethod.desc)}}]),s})(s.AuthError)}),1591,[34,14,10,15,17,16,18,673]);